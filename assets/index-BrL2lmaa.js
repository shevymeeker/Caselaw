import{r as d,a as q,R as W}from"./react-vendor-wGySg1uH.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var M={exports:{}},A={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K=d,H=Symbol.for("react.element"),Y=Symbol.for("react.fragment"),V=Object.prototype.hasOwnProperty,Z=K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,U={key:!0,ref:!0,__self:!0,__source:!0};function T(r,t,n){var s,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)V.call(t,s)&&!U.hasOwnProperty(s)&&(a[s]=t[s]);if(r&&r.defaultProps)for(s in t=r.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:H,type:r,key:i,ref:o,props:a,_owner:Z.current}}A.Fragment=Y;A.jsx=T;A.jsxs=T;M.exports=A;var e=M.exports,_={},O=q;_.createRoot=O.createRoot,_.hydrateRoot=O.hydrateRoot;const L={palette:{mode:"light",primary:"#1e40af",secondary:"#059669",background:"#f8fafc",surface:"#ffffff",surfaceAlt:"#f1f5f9",border:"#d4d4d8",textPrimary:"#0f172a",textSecondary:"#475569"}},J=d.createContext(L),X=r=>({...L,...r});function G({theme:r,children:t}){const n={...L,...r,palette:{...L.palette,...(r==null?void 0:r.palette)||{}}};return e.jsx(J.Provider,{value:n,children:t})}function Q(){return null}function S(r){if(r)return Array.isArray(r)?Object.assign({},...r):r}function D({maxWidth:r="lg",sx:t,children:n}){const s=`mui-container mui-container--${r}`;return e.jsx("div",{className:s,style:S(t),children:n})}function m({component:r="div",sx:t,children:n,...s}){return e.jsx(r,{className:"mui-box",style:S(t),...s,children:n})}function x({direction:r="column",spacing:t=2,alignItems:n="stretch",children:s,sx:a}){const i=typeof t=="number"?t*4:t;return e.jsx("div",{className:"mui-stack",style:{flexDirection:r,gap:typeof i=="number"?`${i}px`:i,alignItems:n,...S(a)},children:s})}function w({elevation:r=1,sx:t,children:n}){return e.jsx("div",{className:`mui-paper mui-paper--elevation-${r}`,style:S(t),children:n})}const ee={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",overline:"span"};function c({variant:r="body1",component:t,children:n,sx:s,color:a}){const i=t||ee[r]||"p",o=`mui-typography mui-typography--${r}`;return e.jsx(i,{className:o,style:{color:a,...S(s)},children:n})}function E({label:r,color:t="default",variant:n="filled"}){const s=`mui-chip mui-chip--${n} mui-chip--${t}`;return e.jsx("span",{className:s,children:r})}function R({variant:r="contained",color:t="primary",size:n="medium",children:s,onClick:a,startIcon:i,disabled:o,type:l="button"}){const u=`mui-button mui-button--${r} mui-button--${t} mui-button--${n}`;return e.jsxs("button",{className:u,onClick:a,disabled:o,type:l,children:[i&&e.jsx("span",{className:"mui-button__icon",children:i}),s]})}function te({children:r,onClick:t,ariaLabel:n}){return e.jsx("button",{className:"mui-icon-button",onClick:t,"aria-label":n,children:r})}function P({position:r="start",children:t}){return e.jsx("span",{className:`mui-input-adornment mui-input-adornment--${r}`,children:t})}function C({label:r,value:t,onChange:n,placeholder:s,type:a="text",fullWidth:i=!1,InputProps:o={},helperText:l,multiline:u=!1,rows:y=3,select:g=!1,children:f}){const j=d.useId(),h=`mui-text-field ${i?"mui-text-field--full":""}`,p={id:j,value:t,onChange:n,placeholder:s,type:a,className:"mui-text-field__input"};let v;return g?v=e.jsx("select",{...p,children:f}):u?v=e.jsx("textarea",{...p,rows:y}):v=e.jsx("input",{...p}),e.jsxs("div",{className:h,children:[r&&e.jsx("label",{htmlFor:j,className:"mui-text-field__label",children:r}),e.jsxs("div",{className:"mui-text-field__wrapper",children:[o.startAdornment,v,o.endAdornment]}),l&&e.jsx("div",{className:"mui-text-field__helper",children:l})]})}function re({children:r,dense:t=!1,sx:n}){return e.jsx("div",{className:`mui-list ${t?"mui-list--dense":""}`,style:S(n),children:r})}function ne({children:r,selected:t=!1,onClick:n}){const s=`mui-list-item-button ${t?"mui-list-item-button--selected":""}`;return e.jsx("button",{type:"button",className:s,onClick:n,children:r})}function ae({size:r=40}){return e.jsx("div",{className:"mui-circular-progress",style:{width:r,height:r},children:e.jsx("div",{className:"mui-circular-progress__spinner"})})}/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),z=(...r)=>r.filter((t,n,s)=>!!t&&s.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=d.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},u)=>d.createElement("svg",{ref:u,...ie,width:t,height:t,stroke:r,strokeWidth:s?Number(n)*24/Number(t):n,className:z("lucide",a),...l},[...o.map(([y,g])=>d.createElement(y,g)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=(r,t)=>{const n=d.forwardRef(({className:s,...a},i)=>d.createElement(oe,{ref:i,iconNode:t,className:z(`lucide-${se(r)}`,s),...a}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=b("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=b("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=b("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=b("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=b("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=b("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=b("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=b("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=b("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ye(){return e.jsx(m,{component:"header",sx:{background:"linear-gradient(135deg, #1e40af 0%, #1e3a8a 100%)",color:"white",boxShadow:"0 20px 40px rgba(30, 58, 138, 0.25)",position:"sticky",top:0,zIndex:10},children:e.jsx(D,{maxWidth:"lg",children:e.jsxs(x,{direction:"row",alignItems:"center",justifyContent:"space-between",spacing:3,sx:{py:3},children:[e.jsxs(x,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(m,{sx:{background:"rgba(255,255,255,0.15)",borderRadius:"14px",padding:"12px",display:"inline-flex"},children:e.jsx(pe,{size:32})}),e.jsxs(m,{children:[e.jsx(c,{variant:"h4",children:"Kentucky Search & Seizure"}),e.jsx(c,{variant:"subtitle1",children:"Fourth Amendment Case Law Explorer"})]})]}),e.jsx(E,{label:"Law Enforcement Training Resource",color:"secondary",variant:"outlined"})]})})})}function ge({searchTerm:r,setSearchTerm:t}){return e.jsx(C,{label:"Search cases",placeholder:"Search by case name, citation, holding, or fact pattern",value:r,onChange:n=>t(n.target.value),fullWidth:!0,InputProps:{startAdornment:e.jsx(P,{position:"start",children:e.jsx(me,{size:18})}),endAdornment:r!==""?e.jsx(P,{position:"end",children:e.jsx(te,{ariaLabel:"Clear search",onClick:()=>t(""),children:e.jsx(xe,{size:16})})}):null}})}function ve({filters:r,setFilters:t,options:n}){const s=(o,l)=>{t(u=>({...u,[o]:l}))},a=()=>{t({courtLevel:"all",year:"all",category:"all"})},i=r.courtLevel!=="all"||r.year!=="all"||r.category!=="all";return e.jsxs(w,{sx:{p:3,display:"flex",flexDirection:"column",gap:20},children:[e.jsxs(x,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(fe,{size:18}),e.jsx("strong",{children:"Filters"}),i&&e.jsx(R,{variant:"text",color:"primary",onClick:a,children:"Reset"})]}),e.jsxs(x,{direction:"row",spacing:3,sx:{flexWrap:"wrap"},children:[e.jsxs(C,{select:!0,label:"Court Level",value:r.courtLevel,onChange:o=>s("courtLevel",o.target.value),children:[e.jsx("option",{value:"all",children:"All Courts"}),n.courtLevels.map(o=>e.jsx("option",{value:o,children:o},o))]}),e.jsxs(C,{select:!0,label:"Year",value:r.year,onChange:o=>s("year",o.target.value),children:[e.jsx("option",{value:"all",children:"All Years"}),n.years.map(o=>e.jsx("option",{value:String(o),children:o},o))]}),e.jsxs(C,{select:!0,label:"Category",value:r.category,onChange:o=>s("category",o.target.value),children:[e.jsx("option",{value:"all",children:"All Categories"}),n.categories.map(o=>e.jsx("option",{value:o,children:o},o))]})]})]})}function je({cases:r,selectedCaseId:t,onSelectCase:n}){return r.length===0?e.jsxs(w,{sx:{p:4,textAlign:"center",display:"flex",flexDirection:"column",gap:1},children:[e.jsx(he,{size:48}),e.jsx(c,{variant:"h6",children:"No cases found"}),e.jsx(c,{variant:"body2",children:"Try adjusting your filters or search keywords."})]}):e.jsxs(w,{sx:{p:3,display:"flex",flexDirection:"column",gap:2,height:"100%"},children:[e.jsxs(c,{variant:"subtitle1",color:"#475569",children:[r.length," ",r.length===1?"case":"cases"," found"]}),e.jsx(re,{sx:{overflowY:"auto",maxHeight:"70vh"},children:r.map(s=>e.jsx(ne,{selected:t===s.id,onClick:()=>n(s.id),children:e.jsxs(x,{spacing:1,alignItems:"flex-start",children:[e.jsxs(x,{direction:"row",justifyContent:"space-between",sx:{width:"100%"},children:[e.jsx(c,{variant:"h5",children:s.name}),e.jsx(c,{variant:"body2",children:s.year})]}),e.jsx(c,{variant:"body2",children:s.citation}),e.jsx(c,{variant:"body2",sx:{color:"#475569"},children:s.summary}),e.jsx(x,{direction:"row",spacing:1,sx:{flexWrap:"wrap",gap:"8px"},children:s.categories.map(a=>e.jsx(E,{label:a,color:"primary",variant:"filled"},a))})]})},s.id))})]})}function be({selectedCase:r}){return r?e.jsxs(w,{sx:{p:4,display:"flex",flexDirection:"column",gap:3,height:"100%",overflowY:"auto"},children:[e.jsxs(m,{children:[e.jsx(c,{variant:"h4",sx:{mb:1},children:r.name}),e.jsxs(x,{direction:"row",spacing:2,alignItems:"center",sx:{color:"#475569"},children:[e.jsxs(x,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(de,{size:16}),e.jsx(c,{variant:"body2",children:r.year})]}),e.jsxs(x,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(le,{size:16}),e.jsx(c,{variant:"body2",children:r.courtLevel})]})]})]}),e.jsxs(m,{children:[e.jsx(c,{variant:"subtitle1",children:"Citation"}),e.jsx(c,{variant:"body1",children:r.citation})]}),e.jsxs(m,{children:[e.jsx(c,{variant:"subtitle1",children:"Summary"}),e.jsx(c,{variant:"body1",sx:{color:"#1f2937"},children:r.summary})]}),e.jsxs(m,{children:[e.jsx(c,{variant:"subtitle1",children:"Key Facts"}),e.jsx(m,{component:"ul",sx:{pl:3,display:"flex",flexDirection:"column",gap:1},children:r.facts.map((t,n)=>e.jsx("li",{children:t},n))})]}),e.jsxs(m,{children:[e.jsx(c,{variant:"subtitle1",children:"Holding"}),e.jsx(c,{variant:"body1",children:r.holding})]}),e.jsxs(m,{children:[e.jsx(c,{variant:"subtitle1",children:"Significance"}),e.jsx(c,{variant:"body1",children:r.significance})]}),e.jsx(x,{direction:"row",spacing:1,sx:{flexWrap:"wrap",gap:"8px"},children:r.categories.map(t=>e.jsx(E,{label:t,color:"secondary",variant:"filled"},t))}),r.url&&e.jsx(R,{variant:"contained",color:"primary",onClick:()=>window.open(r.url,"_blank","noopener,noreferrer"),startIcon:e.jsx(ue,{size:18}),children:"Read Full Opinion"})]}):e.jsxs(w,{sx:{p:4,display:"flex",flexDirection:"column",alignItems:"center",gap:2},children:[e.jsx(ce,{size:64}),e.jsx(c,{variant:"h5",children:"Select a case to view details"}),e.jsx(c,{variant:"body2",sx:{color:"#475569"},children:"Choose a case from the list to review the holding, facts, and significance."})]})}const we=/^([+]{0,2})(.*)$/;function ke(r){const t=r.split(",").map(u=>u.trim()).filter(Boolean);if(t.length===0)throw new Error("Dexie-lite: schema string cannot be empty");const n=t[0],[,s,a]=n.match(we),i=s.includes("+"),o=a||void 0,l=t.slice(1).map(u=>{const y=u.startsWith("*"),g=y?u.slice(1):u;return{name:g,keyPath:g,multiEntry:y}});return{keyPath:o,autoIncrement:i,indexes:l}}class Se{constructor(t){this.name=t,this.versionNumber=1,this.storeSchemas=new Map,this.db=null}version(t){return this.versionNumber=t,{stores:n=>{Object.entries(n).forEach(([s,a])=>{this.storeSchemas.set(s,ke(a))})}}}async open(){return this.db?this.db:new Promise((t,n)=>{const s=indexedDB.open(this.name,this.versionNumber);s.onupgradeneeded=a=>{const i=a.target.result;this.storeSchemas.forEach((o,l)=>{i.objectStoreNames.contains(l)&&i.deleteObjectStore(l);const{keyPath:u,autoIncrement:y,indexes:g}=o,f=i.createObjectStore(l,{keyPath:u||void 0,autoIncrement:y||!1});g.forEach(j=>{try{f.createIndex(j.name,j.keyPath,{unique:!1,multiEntry:j.multiEntry})}catch(h){console.warn(`Dexie-lite: failed to create index ${j.name}`,h)}})})},s.onsuccess=a=>{this.db=a.target.result,t(this.db)},s.onerror=()=>{n(s.error||new Error("Dexie-lite: failed to open database"))}})}table(t){return new Ce(this,t)}}class Ce{constructor(t,n){this.dexie=t,this.name=n}async _transaction(t="readonly"){const s=(await this.dexie.open()).transaction(this.name,t);return{tx:s,store:s.objectStore(this.name)}}async bulkPut(t){const{tx:n,store:s}=await this._transaction("readwrite");return t.forEach(a=>s.put(a)),new Promise((a,i)=>{n.oncomplete=()=>a(t.length),n.onerror=()=>i(n.error)})}async bulkAdd(t){const{tx:n,store:s}=await this._transaction("readwrite");return t.forEach(a=>s.add(a)),new Promise((a,i)=>{n.oncomplete=()=>a(t.length),n.onerror=()=>i(n.error)})}async put(t){const{tx:n,store:s}=await this._transaction("readwrite");return s.put(t),new Promise((a,i)=>{n.oncomplete=()=>a(t),n.onerror=()=>i(n.error)})}async get(t){const{store:n}=await this._transaction("readonly");return new Promise((s,a)=>{const i=n.get(t);i.onsuccess=()=>s(i.result??null),i.onerror=()=>a(i.error)})}async count(){const{store:t}=await this._transaction("readonly");return new Promise((n,s)=>{const a=t.count();a.onsuccess=()=>n(a.result),a.onerror=()=>s(a.error)})}async toArray(){const{store:t}=await this._transaction("readonly");return new Promise((n,s)=>{const a=t.getAll();a.onsuccess=()=>n(a.result),a.onerror=()=>s(a.error)})}async clear(){const{tx:t,store:n}=await this._transaction("readwrite");return n.clear(),new Promise((s,a)=>{t.oncomplete=()=>s(!0),t.onerror=()=>a(t.error)})}}const Le=[{id:1,name:"Commonwealth v. Smith",citation:"123 Ky. 456 (2023)",year:2023,courtLevel:"supreme",summary:"Vehicle search conducted during traffic stop upheld based on probable cause from odor of marijuana.",facts:["Officer stopped vehicle for expired registration","Officer detected strong odor of marijuana from vehicle","Search of vehicle revealed controlled substances","Defendant moved to suppress evidence"],holding:"The Court held that the odor of marijuana provided probable cause for the warrantless search of the vehicle under the automobile exception to the Fourth Amendment.",significance:"Clarifies that despite marijuana decriminalization trends, odor still constitutes probable cause in Kentucky for vehicle searches.",categories:["vehicle","warrant"],url:"http://docjt.ky.gov"},{id:2,name:"Commonwealth v. Johnson",citation:"456 Ky. App. 789 (2022)",year:2022,courtLevel:"appeals",summary:"Consent to search must be voluntary and knowing; coercion invalidates consent.",facts:["Officers approached defendant at bus station","Defendant allegedly consented to search of luggage","Officers had blocked defendant's path to exit","Defendant claims felt unable to refuse"],holding:"Consent to search was not voluntary where officers created coercive environment preventing defendant from leaving.",significance:"Important precedent on voluntariness of consent in police encounters.",categories:["consent"],url:"http://docjt.ky.gov"},{id:3,name:"Commonwealth v. Williams",citation:"789 Ky. 123 (2023)",year:2023,courtLevel:"supreme",summary:"Plain view doctrine applies when contraband is immediately apparent to officer lawfully present.",facts:["Officer responded to noise complaint at apartment","From doorway, officer observed drugs in plain view","Officer entered and seized drugs without warrant","Defendant challenged warrantless entry and seizure"],holding:"Evidence suppressed because officer lacked authority to enter residence without warrant despite plain view of contraband.",significance:"Reinforces that plain view alone does not justify warrantless entry into home.",categories:["plain-view","warrant"],url:"http://docjt.ky.gov"},{id:4,name:"Commonwealth v. Davis",citation:"234 Ky. App. 567 (2021)",year:2021,courtLevel:"appeals",summary:"Exigent circumstances justified warrantless entry to prevent destruction of evidence.",facts:["Officers at door to execute arrest warrant","Heard sounds of toilet flushing and rapid movement","Officers forced entry citing exigent circumstances","Found defendant destroying evidence"],holding:"Warrantless entry justified by exigent circumstances where officers had probable cause and reasonable belief evidence was being destroyed.",significance:"Defines scope of exigent circumstances exception in Kentucky.",categories:["exigent","warrant"],url:"http://docjt.ky.gov"},{id:5,name:"Commonwealth v. Brown",citation:"345 Ky. 678 (2022)",year:2022,courtLevel:"supreme",summary:"Search incident to arrest must be contemporaneous with arrest and limited to area within immediate control.",facts:["Defendant arrested outside vehicle","After handcuffing and securing defendant","Officers searched vehicle 15 minutes later","Found weapon under passenger seat"],holding:"Search not justified as incident to arrest where defendant already secured and no reasonable belief of danger or evidence destruction.",significance:"Limits scope of search incident to arrest doctrine for vehicles.",categories:["arrest","vehicle"],url:"http://docjt.ky.gov"},{id:6,name:"Commonwealth v. Martinez",citation:"567 Ky. App. 890 (2020)",year:2020,courtLevel:"appeals",summary:"Warrantless protective sweep of residence must be justified by reasonable belief of danger.",facts:["Officers entered home to arrest suspect","Conducted sweep of entire house","Found contraband in closed bedroom closet","Officers claimed safety justification"],holding:"Protective sweep exceeded constitutional limits where no articulable facts supported belief that dangerous persons were present.",significance:"Clarifies limitations on protective sweeps during arrests in homes.",categories:["arrest","warrant"],url:"http://docjt.ky.gov"}],k=new Se("ky-search-seizure");k.version(1).stores({cases:"id,nameLower,citationLower,year,courtLevel,*categories,*searchTokens"});function N(r){return r.toLowerCase().replace(/[^a-z0-9\s]/gi," ").replace(/\s+/g," ").trim()}function Ae(r){const t=[r.name,r.citation,r.summary].filter(Boolean).map(N).join(" ").split(" ").filter(Boolean),n=(r.facts||[]).map(N).join(" ").split(" ").filter(Boolean),s=new Set([...t,...n]);return Array.from(s).filter(a=>a.length>1).sort()}async function _e(){if(await k.open(),await k.table("cases").count()>0)return!1;const t=Le.map(n=>({...n,nameLower:n.name.toLowerCase(),citationLower:n.citation.toLowerCase(),searchTokens:Ae(n),insertedAt:new Date().toISOString()}));return await k.table("cases").bulkPut(t),!0}async function Ee(){return await k.open(),k.table("cases").toArray()}const Oe={courtLevel:"all",year:"all",category:"all"};function Pe(r){const t=Array.from(new Set(r.map(a=>a.courtLevel))).sort(),n=Array.from(new Set(r.map(a=>a.year))).sort((a,i)=>i-a),s=Array.from(new Set(r.flatMap(a=>a.categories??[]))).sort();return{courtLevels:t,years:n,categories:s}}function Ne(){const[r,t]=d.useState(""),[n,s]=d.useState(Oe),[a,i]=d.useState([]),[o,l]=d.useState(null),[u,y]=d.useState(!0);d.useEffect(()=>{let h=!0;async function p(){try{await _e();const v=await Ee();if(!h)return;i(v),v.length>0&&l(v[0].id)}finally{h&&y(!1)}}return p(),()=>{h=!1}},[]);const g=d.useMemo(()=>Pe(a),[a]),f=d.useMemo(()=>{const h=r.trim().toLowerCase();return a.filter(p=>{const v=h===""||p.nameLower.includes(h)||p.citationLower.includes(h)||p.searchTokens.some(I=>I.startsWith(h)),F=n.courtLevel==="all"||p.courtLevel===n.courtLevel,$=n.year==="all"||String(p.year)===n.year,B=n.category==="all"||(p.categories||[]).includes(n.category);return v&&F&&$&&B})},[a,n,r]);d.useEffect(()=>{f.length!==0&&(!o||!f.some(h=>h.id===o))&&l(f[0].id)},[f,o]);const j=d.useMemo(()=>f.find(h=>h.id===o)||null,[f,o]);return e.jsxs("div",{className:"app",children:[e.jsx(ye,{}),e.jsx(m,{component:"main",sx:{py:4},children:e.jsx(D,{maxWidth:"lg",children:e.jsxs(x,{spacing:3,children:[e.jsxs(w,{sx:{p:3,display:"flex",flexDirection:"column",gap:2},children:[e.jsx(c,{variant:"h5",children:"Search Kentucky case law offline"}),e.jsx(c,{variant:"body2",sx:{color:"#475569"},children:"The app shell loads instantly from cache, and case data is synchronized to IndexedDB on first load for field-ready access."}),e.jsx(ge,{searchTerm:r,setSearchTerm:t})]}),e.jsx(ve,{filters:n,setFilters:s,options:g}),u?e.jsxs(w,{sx:{p:6,textAlign:"center"},children:[e.jsx(ae,{size:48}),e.jsx(c,{variant:"body2",sx:{mt:2},children:"Loading case summaries from your offline cacheâ€¦"})]}):e.jsxs(m,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"24px",alignItems:"start"},children:[e.jsx(je,{cases:f,selectedCaseId:o,onSelectCase:l}),e.jsx(be,{selectedCase:j})]})]})})})]})}const Me=X({palette:{background:"#f1f5f9",surface:"#ffffff"}});_.createRoot(document.getElementById("root")).render(e.jsx(W.StrictMode,{children:e.jsxs(G,{theme:Me,children:[e.jsx(Q,{}),e.jsx(Ne,{})]})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./service-worker.js").catch(r=>console.error("Service worker registration failed",r))});
//# sourceMappingURL=index-BrL2lmaa.js.map
